import{J as D,r as d,u as x,K as B,c as S,j as l,b as s,i as v}from"./index-bcb46a99.js";import{a1 as _,A as T,u as F,a2 as I,D as M,S as w,_ as b,L as A,a as g,k as j,l as L,G as O,a4 as U,J as q,C as E,M as r,a5 as J,a6 as Q,a7 as G,U as H,Q as K}from"./App-aacd66e8.js";const W=()=>{var h,m,u,p;const{id:a}=_(),{data:e,isFetching:n}=D(a,{refetchOnMountOrArgChange:!0}),{playState:i,setPlayState:y}=d.useContext(T),{currentPlaylist:c}=x(t=>t.queue),{credential:o}=x(t=>t.auth),[f]=B(),P=S(),N=F(),k=()=>{e!=null&&e._id&&(e==null?void 0:e._id)!==c&&P(v({playlistId:e._id,tracks:e})),y(!i)},C=t=>{f(t).then(()=>N("/")).catch(z=>K.error("Opps! Something went wrong!"))};return l("div",{className:"flex h-screen flex-col gap-10",children:[s("section",{className:"group relative",children:s(I,{heroImageUrl:(e==null?void 0:e.thumbnail)!==""?e==null?void 0:e.thumbnail:M,children:n?l("div",{className:"flex flex-col gap-3",children:[s(w,{}),s(b,{}),s(b,{})]}):l(d.Fragment,{children:[s("small",{className:"first-letter:uppercase",children:e!=null&&e.public?"public playlist":"private playlist"}),s("h1",{className:"text-6xl font-bold sm:text-4xl md:text-4xl ",children:e==null?void 0:e.title}),l("p",{className:"sm:text-sm",children:[((h=e==null?void 0:e.tracks)==null?void 0:h.length)||0," tracks"]}),l("p",{children:[s("span",{children:"Created by "}),s(A,{className:"font-bold text-base-content hover:link",children:(m=e==null?void 0:e.creator)==null?void 0:m.username})]})]})})}),l("section",{className:"flex items-center gap-3",children:[s(g,{shape:"circle",color:"success",className:"text-xl sm:text-base",onClick:k,children:i&&c===(e==null?void 0:e._id)?s(j,{}):s(L,{})}),l(O,{position:"bottom-right",children:[s(g,{color:"transparent",className:"text-xl",tabIndex:0,children:s(U,{})}),s(q,{tabIndex:0,children:l(E,{className:"bg-base-300",children:[s(r,{children:l("label",{role:"menuitem",children:[s(J,{})," Add to queue"]})}),o===((u=e==null?void 0:e.creator)==null?void 0:u._id)&&s(r,{children:l("label",{role:"menuitem",children:[s(Q,{})," Edit playlist"]})}),o===((p=e==null?void 0:e.creator)==null?void 0:p._id)&&s(r,{onClick:()=>C(a),children:l("label",{role:"menuitem",className:"font-medium text-error",children:[s(G,{className:"text-xl"})," Delete this playlist"]})})]})})]})]}),s("section",{children:s(H,{data:e==null?void 0:e.tracks,status:{isFetching:n}})})]})};export{W as default};
