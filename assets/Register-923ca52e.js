import{r as i,b as e,j as a,L as N,k as b}from"./index-bcb46a99.js";import{x as f,u as v,E as x,L as w,a as y,Q as c}from"./App-aacd66e8.js";const E=()=>{var m,d;const{register:r,formState:{errors:s},handleSubmit:u}=f(),o=i.useRef(null),h=v(),{ref:g}=r("email"),[p,t]=i.useState(!1);return i.useEffect(()=>{o.current.scrollIntoView({behavior:"smooth"})}),e("div",{className:"hero min-h-screen bg-base-200",children:e("div",{className:"hero-content text-center",children:e("div",{className:"max-w-md",children:e("div",{className:"card glass w-full max-w-sm flex-shrink-0 shadow-2xl",children:a("div",{className:"card-body text-left",children:[e("img",{src:N,className:" max-w-full object-cover text-center"}),e(x,{children:a("form",{onSubmit:u(async l=>{try{t(!0);const n=await b.post("/register",l);if(n.status===400){c.error(n.message),t(!1);return}c.info("Check your email to get activating account link!"),t(!1),h("/login")}catch{c.error("Opps! Something went wrong!")}}),children:[a("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Email"})}),e("input",{type:"text",placeholder:"email",className:"input-bordered input",...r("email",{required:"Provide an email!",pattern:{value:/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g,message:"Email is invalid"}}),ref:l=>{g(l),o.current=l}}),s.email&&e("small",{className:"error-message",children:(m=s.email)==null?void 0:m.message})]}),a("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Password"})}),e("input",{type:"password",placeholder:"password",className:"input-bordered input",...r("password",{required:!0,minLength:{value:6,message:"Password must have at least 6 characters!"}})}),s.password&&e("small",{className:"error-message",children:"Provide a password!"})]}),a("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"What should we call you?"})}),e("input",{type:"text",className:"input-bordered input",...r("username",{required:"Provide your name!",minLength:{value:3,message:"Your name must have at least 3 characters!"}})}),s.username&&e("small",{className:"error-message",children:(d=s.username)==null?void 0:d.message})]}),a("label",{className:"label justify-start gap-2",children:[e("span",{className:"label-text-alt",children:"Already have an account?"}),e(w,{to:"/login",className:"link-hover label-text-alt link",children:"Login"})]}),e("div",{className:"form-control mt-6",children:e(y,{color:"success",className:`text-lg capitalize ${p&&"loading"}`,children:"Create new account"})})]})})]})})})})})};export{E as default};
