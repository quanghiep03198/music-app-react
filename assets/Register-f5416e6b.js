import{r as c,b as e,j as a,L as N,k as b}from"./index-555376f6.js";import{x as f,u as v,E as x,L as w,a as y,Q as d}from"./App-36a15c4e.js";const P=()=>{var o,m;const{register:l,formState:{errors:s},handleSubmit:u}=f(),i=c.useRef(null),h=v(),{ref:g}=l("email"),[p,n]=c.useState(!1);return c.useEffect(()=>{i.current.scrollIntoView({behavior:"smooth"})}),e("div",{className:"hero min-h-screen bg-base-200",children:e("div",{className:"hero-content text-center",children:e("div",{className:"max-w-md",children:e("div",{className:"card glass w-full max-w-sm flex-shrink-0 shadow-2xl",children:a("div",{className:"card-body text-left",children:[e("img",{src:N,className:" max-w-full object-cover text-center"}),e(x,{children:a("form",{onSubmit:u(async r=>{try{n(!0);const t=await b.post("/register",r);if(t.status===400){d.error(t.message),n(!1);return}d.info("Check your email to get activating account link!"),n(!1),h("/login")}catch(t){console.log(t.message)}}),children:[a("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Email"})}),e("input",{type:"text",placeholder:"email",className:"input-bordered input",...l("email",{required:"Provide an email!",pattern:{value:/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g,message:"Email is invalid"}}),ref:r=>{g(r),i.current=r}}),s.email&&e("small",{className:"error-message",children:(o=s.email)==null?void 0:o.message})]}),a("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Password"})}),e("input",{type:"password",placeholder:"password",className:"input-bordered input",...l("password",{required:!0,minLength:{value:6,message:"Password must have at least 6 characters!"}})}),s.password&&e("small",{className:"error-message",children:"Provide a password!"})]}),a("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"What should we call you?"})}),e("input",{type:"text",className:"input-bordered input",...l("username",{required:"Provide your name!",minLength:{value:3,message:"Your name must have at least 3 characters!"}})}),s.username&&e("small",{className:"error-message",children:(m=s.username)==null?void 0:m.message})]}),a("label",{className:"label justify-start gap-2",children:[e("span",{className:"label-text-alt",children:"Already have an account?"}),e(w,{to:"/login",className:"link-hover label-text-alt link",children:"Login"})]}),e("div",{className:"form-control mt-6",children:e(y,{color:"success",className:`text-lg capitalize ${p&&"loading"}`,children:"Create new account"})})]})})]})})})})})};export{P as default};
