import{r as f,b as e,j as r,L as g,k as v}from"./index-555376f6.js";import{x as N,u as w,aa as x,E as b,a as y,Q as i}from"./App-36a15c4e.js";const S=()=>{var c,n;const{register:o,formState:{errors:s},handleSubmit:d}=N(),m=w(),{ref:u}=o("verifyCode"),h=f.useRef(null),p=async a=>{try{const t=sessionStorage.getItem("accessToken"),l=await v.post("/reset-password",a,{headers:{Authorization:"Bearer "+t}});if(console.log(l),l.status===403){i.error(l.message);return}sessionStorage.removeItem("accessToken"),i.success("Reset password successfully!"),m("/login")}catch(t){console.log(t.message)}};return token?e("div",{className:"hero min-h-screen bg-base-200",children:e("div",{className:"hero-content text-center",children:e("div",{className:"max-w-md",children:e("div",{className:"card glass w-full max-w-sm flex-shrink-0 shadow-2xl",children:r("div",{className:"card-body text-left",children:[e("img",{src:g,className:" max-w-full object-cover text-center"}),e(b,{children:r("form",{onSubmit:d(p),children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Verify Code"})}),e("input",{type:"text",placeholder:"email",className:"input-bordered input",...o("verifyCode",{required:"Provide an verify code!"}),ref:a=>{u(a),h.current=a}}),s.verifyCode&&e("small",{className:"error-message",children:(c=s.verifyCode)==null?void 0:c.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"New Password"})}),e("input",{type:"password",className:"input-bordered input",...o("password",{required:"Provide a password",minLength:{value:6,message:"Password must have at least 6 characters"}})}),s.password&&e("small",{className:"error-message",children:(n=s.password)==null?void 0:n.message})]}),e("div",{className:"form-control mt-6",children:e(y,{color:"success",className:"text-lg capitalize",children:"reset password"})})]})})]})})})})}):e(x,{to:"/",replace:!0})};export{S as default};
