import{r as f,b as e,j as a,L as v,k as g}from"./index-bcb46a99.js";import{x as N,u as w,aa as x,E as b,a as y,Q as o}from"./App-aacd66e8.js";const C=()=>{var l,c;const{register:t,formState:{errors:s},handleSubmit:d}=N(),m=w(),{ref:u}=t("verifyCode"),h=f.useRef(null),p=async r=>{try{const n=sessionStorage.getItem("accessToken"),i=await g.post("/reset-password",r,{headers:{Authorization:"Bearer "+n}});if(i.status===403){o.error(i.message);return}sessionStorage.removeItem("accessToken"),o.success("Reset password successfully!"),m("/login")}catch{o.error("Opps! Something went wrong!")}};return token?e("div",{className:"hero min-h-screen bg-base-200",children:e("div",{className:"hero-content text-center",children:e("div",{className:"max-w-md",children:e("div",{className:"card glass w-full max-w-sm flex-shrink-0 shadow-2xl",children:a("div",{className:"card-body text-left",children:[e("img",{src:v,className:" max-w-full object-cover text-center"}),e(b,{children:a("form",{onSubmit:d(p),children:[a("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Verify Code"})}),e("input",{type:"text",placeholder:"email",className:"input-bordered input",...t("verifyCode",{required:"Provide an verify code!"}),ref:r=>{u(r),h.current=r}}),s.verifyCode&&e("small",{className:"error-message",children:(l=s.verifyCode)==null?void 0:l.message})]}),a("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"New Password"})}),e("input",{type:"password",className:"input-bordered input",...t("password",{required:"Provide a password",minLength:{value:6,message:"Password must have at least 6 characters"}})}),s.password&&e("small",{className:"error-message",children:(c=s.password)==null?void 0:c.message})]}),e("div",{className:"form-control mt-6",children:e(y,{color:"success",className:"text-lg capitalize",children:"reset password"})})]})})]})})})})}):e(x,{to:"/",replace:!0})};export{C as default};
